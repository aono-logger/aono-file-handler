{
  "version": 3,
  "file": "FileHandler.spec.js",
  "sourceRoot": "..",
  "sources": [
    "src/FileHandler.spec.coffee"
  ],
  "names": [],
  "mappings": ";AACA;AAAA,MAAA,WAAA,EAAA,EAAA,EAAA,IAAA,EAAA;;EAAA,EAAA,GAAK,OAAA,CAAQ,IAAR;;EACL,IAAA,GAAO,OAAA,CAAQ,MAAR;;EACP,IAAA,GAAO,IAAI,CAAC,SAAL,CAAe,OAAA,CAAQ,MAAR,CAAf;;EAEP,WAAA,GAAc,OAAA,CAAQ,eAAR,CACZ,CAAC;;EAEH,QAAA,CAAS,aAAT,EAAwB,QAAA,CAAA,CAAA;AACtB,QAAA,MAAA,EAAA;IAAA,MAAA,GAAS;IAET,aAAA,GAAgB;IAEhB,UAAA,CAAW,QAAA,CAAA,CAAA;MACT,aAAA,GAAgB,IAAI,WAAJ,CAAgB,MAAhB;aAChB,IAAA,CAAK,CAAA,CAAA,CAAG,MAAH,CAAU,CAAV,CAAL,CACE,CAAC,IADH,CACQ,QAAA,CAAC,KAAD,CAAA;eAAW,KAAK,CAAC,OAAN,CAAc,QAAA,CAAC,IAAD,CAAA;iBAAU,EAAE,CAAC,UAAH,CAAc,IAAd;QAAV,CAAd;MAAX,CADR;IAFS,CAAX;IAKA,EAAA,CAAG,oCAAH,EAAyC,QAAA,CAAA,CAAA;aACvC,aAAa,CAAC,MAAM,CAAC,MAAM,CAAC,KAA5B,CAAkC,MAAlC;IADuC,CAAzC;WAGA,QAAA,CAAS,+BAAT,EAA0C,QAAA,CAAA,CAAA;AACxC,UAAA;MAAA,KAAA,GACE;QAAA,SAAA,EAAW,CAAX;QACA,MAAA,EAAQ,MADR;QAEA,KAAA,EAAO,MAFP;QAGA,OAAA,EAAS,cAHT;QAIA,IAAA,EACE;UAAA,MAAA,EAAQ;QAAR;MALF;MAOF,UAAA,CAAW,QAAA,CAAA,CAAA;eACT,aAAa,CAAC,MAAd,CAAqB,CAAE,KAAF,CAArB;MADS,CAAX;MAGA,EAAA,CAAG,mCAAH,EAAwC,QAAA,CAAA,CAAA;eACtC,aAAa,CAAC,WAAW,CAAC,MAAM,CAAC,KAAjC,CAAuC,CAAA,CAAA,CAAG,MAAH,CAAU,wBAAV,CAAvC;MADsC,CAAxC;aAGA,EAAA,CAAG,+BAAH,EAAoC,QAAA,CAAA,CAAA;AAClC,YAAA;QAAA,QAAA,GAAW,EAAE,CAAC,YAAH,CAAgB,aAAa,CAAC,WAA9B,CACT,CAAC,QADQ,CACC,OADD;eAEX,QAAQ,CAAC,MAAM,CAAC,KAAhB,CAAsB,IAAA,GACpB,mBADoB,GAEpB,oBAFoB,GAGpB,mBAHoB,GAIpB,6BAJoB,GAKpB,cALoB,GAMtB,MANA;MAHkC,CAApC;IAfwC,CAA1C;EAbsB,CAAxB;AAPA",
  "sourcesContent": [
    "\nfs = require \"fs\"\nutil = require \"util\"\nglob = util.promisify require \"glob\"\n\nFileHandler = require \"./FileHandler\"\n  .FileHandler\n\ndescribe \"FileHandler\", ->\n  prefix = \"/tmp/aono-file-handler/test.log\"\n\n  testedHandler = null\n\n  beforeEach ->\n    testedHandler = new FileHandler prefix\n    glob \"#{prefix}*\"\n      .then (files) -> files.forEach (file) -> fs.unlinkSync file\n\n  it \"handler contains passed parameters\", ->\n    testedHandler.prefix.should.equal prefix\n\n  describe \"when after handling log entry\", ->\n    entry =\n      timestamp: 0\n      logger: \"test\"\n      level: \"good\"\n      message: \"hello, file!\"\n      meta:\n        number: 1\n\n    beforeEach ->\n      testedHandler.handle [ entry ]\n\n    it \"contains properly set currentFile\", ->\n      testedHandler.currentFile.should.equal \"#{prefix}.1970-01-01_00:00:00.000\"\n\n    it \"wrote log entry to a log file\", ->\n      contents = fs.readFileSync testedHandler.currentFile\n        .toString \"utf-8\"\n      contents.should.equal '{ '+\n        '\"@timestamp\": 0, '+\n        '\"logger\": \"test\", '+\n        '\"level\": \"good\", '+\n        '\"message\": \"hello, file!\", '+\n        '\"Â»number\": 1'+\n      ' }\\n'\n\n"
  ]
}